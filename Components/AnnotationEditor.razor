@using SudaTales.Models

<div class="annotation-editor">
    <h3>New comment</h3>

    <textarea
        placeholder="Write your commentâ€¦"
        @bind="_text">
    </textarea>

    <div class="actions">
        <button @onclick="Confirm" disabled="@string.IsNullOrWhiteSpace(_text)">
            Save
        </button>

        <button @onclick="Cancel">
            Cancel
        </button>
    </div>
</div>

@code {
    [Parameter, EditorRequired]
    public EventCallback<string> OnConfirm { get; set; }

    [Parameter, EditorRequired]
    public EventCallback OnCancel { get; set; }

    private string _text = "";

    private async Task Confirm()
    {
        await OnConfirm.InvokeAsync(_text);
        _text = "";
    }

    private async Task Cancel()
    {
        _text = "";
        await OnCancel.InvokeAsync();
    }
}